name: macOS Build
on: push

jobs:
  build:
    runs-on: macOS-latest 
    steps:
      - uses: actions/checkout@v1
        with:
          fetch-depth: 1
      - uses: actions/setup-java@v1
        with:
          java-version: '11' 
      - run: cd manual
      - run: mvn compile 
      - run: cd .. 
      - run: mvn -Pgenerate-manual clean install
      - run: cd application
      - run: ant -f build-mac.xml
      - run: cd ..
      - uses: actions/upload-artifact@master
        with:
          name: Blue .zip (Windows/Linux) 
          path: application/target/blue-2.8.0-SNAPSHOT.zip 
      - uses: actions/upload-artifact@master
        with:
          name: Blue macOS .app .zip  
          path: application/target/blue_macOS_2.8.0-dev.zip 
